"use strict";const inputEl=document.querySelector(".input__element"),button=document.querySelector(".button"),listUlEl=document.querySelector(".list__tvserie");let listEl="",imageTvserie="",titleTvserie="",newItem="",addId="",newImage="",newTitle="",newContent="",eachTvserie="",tvSerieImages="",allElements="",infoLocalStorage={idList:[]};function handleClickFunction(){let e=inputEl.value;fetch(`http://api.tvmaze.com/search/shows?q=${e}`).then(e=>e.json()).then(e=>{for(const t of e)eachTvserie=t.show,titleTvserie=eachTvserie.name,(newItem=document.createElement("li")).className="info__tvserie",addId=eachTvserie.id,newItem.setAttribute("id",addId),listUlEl.appendChild(newItem),null===(tvSerieImages=eachTvserie.image)?newImage.src="https://via.placeholder.com/210x295/cccccc/666666/?text=TV":(imageTvserie=tvSerieImages.original,(newImage=document.createElement("img")).className="image__tvserie",newImage.src=`${imageTvserie}`),(newTitle=document.createElement("p")).className="name__tvserie",newContent=document.createTextNode(`${titleTvserie}`),newTitle.appendChild(newContent),newItem.append(newImage,newTitle);infoLocalStorage=localStorage.getItem("idList"),allElements=document.querySelectorAll("li");for(let e=0;e<allElements.length;e++)infoLocalStorage.includes(allElements[e].id)&&allElements[e].classList.add("selected__favorite"),allElements[e].addEventListener("click",t);function t(e){e.currentTarget.classList.toggle("selected__favorite");let t=document.querySelectorAll(".selected__favorite"),l=[];for(const e of t){const t=parseInt(e.id);l.push(t)}localStorage.setItem("idList",l)}})}button.addEventListener("click",handleClickFunction);